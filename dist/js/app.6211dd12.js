!function(t){function e(e){for(var n,o,l=e[0],r=e[1],c=e[2],u=0,p=[];u<l.length;u++)o=l[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);for(d&&d(e);p.length;)p.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,l=1;l<i.length;l++){var r=i[l];0!==a[r]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},a={app:0},s=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var l=window.webpackJsonp=window.webpackJsonp||[],r=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=r;s.push([0,"chunk-vendors"]),i()}({0:function(t,e,i){t.exports=i("56d7")},"0f59":function(t,e,i){},"314e":function(t,e,i){"use strict";var n=i("7501");i.n(n).a},"32f9":function(t,e,i){"use strict";var n=i("7987");i.n(n).a},3516:function(t,e,i){"use strict";var n=i("ca11");i.n(n).a},"4e16":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e),i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),a={name:"app",methods:{handleHome:function(){this.$router.push({path:"/"})}}},s=(i("5c0b"),i("2877")),o=Object(s.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"fm-header"},[n("img",{staticClass:"fm-logo",attrs:{src:i("cf05")}}),n("div",{staticClass:"fm-title",on:{click:t.handleHome}},[t._v("拖拉布局")]),t._m(0)]),n("div",{staticClass:"fm-container"},[n("router-view")],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fm-link"},[e("a",{attrs:{href:"#"}},[this._v("imdos")])])}],!1,null,null,null).exports,l=i("8c4f"),r=(i("8e6e"),i("ac6a"),i("456d"),i("3b2b"),i("a481"),i("bd86")),c=(i("28a5"),i("bc3a")),d=i.n(c),u=i("310e"),p=i.n(u),h={components:{Draggable:p.a},props:["data"],data:function(){return{validator:{type:null,required:null,pattern:null,range:null,length:null}}},created:function(){},computed:{show:function(){return!!(this.data&&0<Object.keys(this.data).length)}},methods:{changeBorder:function(){},handleOptionsRemove:function(t){"grid"===this.data.type?this.data.columns.splice(t,1):this.data.options.options.splice(t,1)},handleAddOption:function(){this.data.options.showLabel?this.data.options.options.push({value:"新选项",label:"新选项"}):this.data.options.options.push({value:"新选项"})},handleAddColumn:function(){this.data.columns.push({span:"",list:[]})},handleSelectMuliple:function(t){t?this.data.options.defaultValue?this.data.options.defaultValue=[this.data.options.defaultValue]:this.data.options.defaultValue=[]:0<this.data.options.defaultValue.length?this.data.options.defaultValue=this.data.options.defaultValue[0]:this.data.options.defaultValue=""}}},f=Object(s.a)(h,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("div",[i("el-form",{attrs:{"label-position":"top"}},["grid"==t.data.type||"label"==t.data.type||"title"==t.data.type?i("el-form-item",{attrs:{label:"标题"}},["grid"!=t.data.type?i("el-input",{model:{value:t.data.name,callback:function(e){t.$set(t.data,"name",e)},expression:"data.name"}}):i("el-input",{model:{value:t.data.title,callback:function(e){t.$set(t.data,"title",e)},expression:"data.title"}})],1):t._e(),0<=Object.keys(t.data.options).indexOf("border")?i("el-form-item",{staticStyle:{display:"block"},attrs:{label:"边框"}},[i("div",{staticStyle:{"padding-left":"20px"}},[i("div",[i("el-checkbox",{model:{value:t.data.options.border.isShow,callback:function(e){t.$set(t.data.options.border,"isShow",e)},expression:"data.options.border.isShow"}},[t._v("\n            是否有边框\n          ")])],1),i("div",[t._v("宽度:"),i("el-input",{model:{value:t.data.options.border.width,callback:function(e){t.$set(t.data.options.border,"width",e)},expression:"data.options.border.width"}})],1),i("div",[t._v("颜色:"),i("el-input",{model:{value:t.data.options.border.color,callback:function(e){t.$set(t.data.options.border,"color",e)},expression:"data.options.border.color"}})],1)])]):t._e(),0<=Object.keys(t.data.options).indexOf("width")?i("el-form-item",{attrs:{label:"宽度"}},[i("el-input",{model:{value:t.data.options.width,callback:function(e){t.$set(t.data.options,"width",e)},expression:"data.options.width"}})],1):t._e(),0<=Object.keys(t.data.options).indexOf("height")?i("el-form-item",{attrs:{label:"高度"}},[i("el-input",{model:{value:t.data.options.height,callback:function(e){t.$set(t.data.options,"height",e)},expression:"data.options.height"}})],1):t._e(),0<=Object.keys(t.data.options).indexOf("size")?i("el-form-item",{attrs:{label:"大小"}},[t._v("\n      宽度："),i("el-input",{staticStyle:{width:"90px"},attrs:{type:"number"},model:{value:t.data.options.size.width,callback:function(e){t.$set(t.data.options.size,"width",t._n(e))},expression:"data.options.size.width"}}),t._v("\n      高度："),i("el-input",{staticStyle:{width:"90px"},attrs:{type:"number"},model:{value:t.data.options.size.height,callback:function(e){t.$set(t.data.options.size,"height",t._n(e))},expression:"data.options.size.height"}})],1):t._e(),0<=Object.keys(t.data.options).indexOf("inline")?i("el-form-item",{attrs:{label:"布局方式"}},[i("el-radio-group",{model:{value:t.data.options.inline,callback:function(e){t.$set(t.data.options,"inline",e)},expression:"data.options.inline"}},[i("el-radio-button",{attrs:{label:!1}},[t._v("块级")]),i("el-radio-button",{attrs:{label:!0}},[t._v("行内")])],1)],1):t._e(),0<=Object.keys(t.data.options).indexOf("showInput")?i("el-form-item",{attrs:{label:"显示输入框"}},[i("el-switch",{model:{value:t.data.options.showInput,callback:function(e){t.$set(t.data.options,"showInput",e)},expression:"data.options.showInput"}})],1):t._e(),0<=Object.keys(t.data.options).indexOf("min")?i("el-form-item",{attrs:{label:"最小值"}},[i("el-input-number",{attrs:{min:0,max:100,step:1},model:{value:t.data.options.min,callback:function(e){t.$set(t.data.options,"min",e)},expression:"data.options.min"}})],1):t._e(),0<=Object.keys(t.data.options).indexOf("max")?i("el-form-item",{attrs:{label:"最大值"}},[i("el-input-number",{attrs:{min:0,max:100,step:1},model:{value:t.data.options.max,callback:function(e){t.$set(t.data.options,"max",e)},expression:"data.options.max"}})],1):t._e(),0<=Object.keys(t.data.options).indexOf("step")?i("el-form-item",{attrs:{label:"步长"}},[i("el-input-number",{attrs:{min:0,max:100,step:1},model:{value:t.data.options.step,callback:function(e){t.$set(t.data.options,"step",e)},expression:"data.options.step"}})],1):t._e(),"select"==t.data.type?i("el-form-item",{attrs:{label:"是否多选"}},[i("el-switch",{on:{change:t.handleSelectMuliple},model:{value:t.data.options.multiple,callback:function(e){t.$set(t.data.options,"multiple",e)},expression:"data.options.multiple"}})],1):t._e(),"select"==t.data.type?i("el-form-item",{attrs:{label:"是否可搜索"}},[i("el-switch",{model:{value:t.data.options.filterable,callback:function(e){t.$set(t.data.options,"filterable",e)},expression:"data.options.filterable"}})],1):t._e(),0<=Object.keys(t.data.options).indexOf("allowHalf")?i("el-form-item",{attrs:{label:"允许半选"}},[i("el-switch",{model:{value:t.data.options.allowHalf,callback:function(e){t.$set(t.data.options,"allowHalf",e)},expression:"data.options.allowHalf"}})],1):t._e(),0<=Object.keys(t.data.options).indexOf("showAlpha")?i("el-form-item",{attrs:{label:"支持透明度选择"}},[i("el-switch",{model:{value:t.data.options.showAlpha,callback:function(e){t.$set(t.data.options,"showAlpha",e)},expression:"data.options.showAlpha"}})],1):t._e(),0<=Object.keys(t.data.options).indexOf("showLabel")?i("el-form-item",{attrs:{label:"是否显示标签"}},[i("el-switch",{model:{value:t.data.options.showLabel,callback:function(e){t.$set(t.data.options,"showLabel",e)},expression:"data.options.showLabel"}})],1):t._e(),0<=Object.keys(t.data.options).indexOf("defaultValue")&&("textarea"==t.data.type||"input"==t.data.type||"rate"==t.data.type||"color"==t.data.type||"switch"==t.data.type)?i("el-form-item",{attrs:{label:"默认值"}},["textarea"==t.data.type?i("el-input",{attrs:{type:"textarea",rows:5},model:{value:t.data.options.defaultValue,callback:function(e){t.$set(t.data.options,"defaultValue",e)},expression:"data.options.defaultValue"}}):t._e(),"input"==t.data.type?i("el-input",{model:{value:t.data.options.defaultValue,callback:function(e){t.$set(t.data.options,"defaultValue",e)},expression:"data.options.defaultValue"}}):t._e(),"rate"==t.data.type?i("el-rate",{staticStyle:{display:"inline-block","vertical-align":"middle"},attrs:{max:t.data.options.max,"allow-half":t.data.options.allowHalf},model:{value:t.data.options.defaultValue,callback:function(e){t.$set(t.data.options,"defaultValue",e)},expression:"data.options.defaultValue"}}):t._e(),"rate"==t.data.type?i("el-button",{staticStyle:{display:"inline-block","vertical-align":"middle","margin-left":"10px"},attrs:{type:"text"},on:{click:function(e){t.data.options.defaultValue=0}}},[t._v("清空")]):t._e(),"color"==t.data.type?i("el-color-picker",{attrs:{"show-alpha":t.data.options.showAlpha},model:{value:t.data.options.defaultValue,callback:function(e){t.$set(t.data.options,"defaultValue",e)},expression:"data.options.defaultValue"}}):t._e(),"switch"==t.data.type?i("el-switch",{model:{value:t.data.options.defaultValue,callback:function(e){t.$set(t.data.options,"defaultValue",e)},expression:"data.options.defaultValue"}}):t._e()],1):t._e(),"grid"==t.data.type?[i("el-form-item",{attrs:{label:"栅格间隔"}},[i("el-input",{attrs:{type:"number"},model:{value:t.data.options.gutter,callback:function(e){t.$set(t.data.options,"gutter",t._n(e))},expression:"data.options.gutter"}})],1),i("el-form-item",{attrs:{label:"列配置项"}},[i("draggable",t._b({attrs:{tag:"ul",list:t.data.columns,handle:".drag-item"}},"draggable",{group:{name:"options"},ghostClass:"ghost",handle:".drag-item"},!1),t._l(t.data.columns,function(e,n){return i("li",{key:n},[i("i",{staticClass:"drag-item",staticStyle:{"font-size":"16px",margin:"0 5px",cursor:"move"}},[i("i",{staticClass:"iconfont icon-icon_bars"})]),i("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"栅格值",size:"mini",type:"number"},model:{value:e.span,callback:function(i){t.$set(e,"span",t._n(i))},expression:"item.span"}}),i("el-button",{staticStyle:{padding:"4px","margin-left":"5px"},attrs:{circle:"",plain:"",type:"danger",size:"mini",icon:"el-icon-minus"},on:{click:function(e){return t.handleOptionsRemove(n)}}})],1)}),0)],1)]:t._e()],2)],1):t._e()},[],!1,null,null,null).exports,g={props:["data"]},m=Object(s.a)(g,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-config-container"},[i("el-form",{attrs:{"label-position":"top"}},[i("el-form-item",{attrs:{label:"标签对齐方式"}},[i("el-radio-group",{model:{value:t.data.labelPosition,callback:function(e){t.$set(t.data,"labelPosition",e)},expression:"data.labelPosition"}},[i("el-radio-button",{attrs:{label:"left"}},[t._v("左对齐")]),i("el-radio-button",{attrs:{label:"right"}},[t._v("右对齐")]),i("el-radio-button",{attrs:{label:"top"}},[t._v("顶部对齐")])],1)],1),i("el-form-item",{attrs:{label:"表单字段宽度"}},[i("el-input-number",{attrs:{min:0,max:200,step:10},model:{value:t.data.labelWidth,callback:function(e){t.$set(t.data,"labelWidth",e)},expression:"data.labelWidth"}})],1),i("el-form-item",{attrs:{label:"组件尺寸"}},[i("el-radio-group",{model:{value:t.data.size,callback:function(e){t.$set(t.data,"size",e)},expression:"data.size"}},[i("el-radio-button",{attrs:{label:"medium"}},[t._v("medium")]),i("el-radio-button",{attrs:{label:"small"}},[t._v("small")]),i("el-radio-button",{attrs:{label:"mini"}},[t._v("mini")])],1)],1)],1)],1)},[],!1,null,null,null).exports,b=(i("20d6"),i("c5f6"),i("c82c")),y=i.n(b),v=i("cea2");function _(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function w(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?_(i,!0).forEach(function(e){Object(r.a)(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):_(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}i("0808");var x={props:{value:{type:Array,default:function(){return[]}},width:{type:Number,default:100},height:{type:Number,default:100},token:{type:String,default:""},domain:{type:String,default:""},multiple:{type:Boolean,default:!0},length:{type:Number,default:9}},data:function(){return{fileList:this.value.map(function(t){return{key:t.key?t.key:(new Date).getTime()+"_"+Math.ceil(99999*Math.random()),url:t.url,percent:t.percent?t.percent:100,status:t.status?t.status:"success"}}),viewer:null,uploadId:"upload_"+(new Date).getTime()}},computed:{miniWidth:function(){return this.width>this.height?this.height:this.width}},methods:{handleChange:function(){for(var t=this,e=this.$refs.uploadInput.files,i=function(i){var n=e[i],a=new FileReader,s=(new Date).getTime()+"_"+Math.ceil(99999*Math.random());a.readAsDataURL(n),a.onload=function(){t.fileList.push({key:s,url:a.result,percent:0,status:"uploading"}),t.$nextTick(function(){t.uplaodAction2(a.result,n,s)})}},n=0;n<e.length;n++)i(n);this.$refs.uploadInput.value=[]},uplaodAction:function(t,e,i){var n=this,a=(this.fileList.findIndex(function(t){return t.key===i}),new XMLHttpRequest),s="http://upload-z2.qiniu.com/putb64/"+e.size;a.open("POST",s,!0),a.setRequestHeader("Content-Type","application/octet-stream"),a.setRequestHeader("Authorization","UpToken "+this.token),a.send(t.split(",")[1]),a.onreadystatechange=function(){if(4===a.readyState){var t=JSON.parse(a.response);t?(n.$set(n.fileList,n.fileList.findIndex(function(t){return t.key===i}),w({},n.fileList[n.fileList.findIndex(function(t){return t.key===i})],{url:n.domain+t.key,percent:100})),setTimeout(function(){n.$set(n.fileList,n.fileList.findIndex(function(t){return t.key===i}),w({},n.fileList[n.fileList.findIndex(function(t){return t.key===i})],{status:"success"})),n.$emit("input",n.fileList)},200)):(n.$set(n.fileList,n.fileList.findIndex(function(t){return t.key===i}),w({},n.fileList[n.fileList.findIndex(function(t){return t.key===i})],{status:"error"})),n.fileList.splice(n.fileList.findIndex(function(t){return t.key===i}),1))}},a.onprogress=function(t){t.total&&t.loaded&&n.$set(n.fileList[n.fileList.findIndex(function(t){return t.key===i})],"percent",t.loaded/t.total*100)}},uplaodAction2:function(t,e,i){var n=this;v.upload(e,i,this.token,{fname:i,mimeType:[]},{useCdnDomain:!0,region:v.region.z2}).subscribe({next:function(t){n.$set(n.fileList[n.fileList.findIndex(function(t){return t.key===i})],"percent",parseInt(t.total.percent))},error:function(t){n.$set(n.fileList,n.fileList.findIndex(function(t){return t.key===i}),w({},n.fileList[n.fileList.findIndex(function(t){return t.key===i})],{status:"error"})),n.fileList.splice(n.fileList.findIndex(function(t){return t.key===i}),1)},complete:function(t){n.$set(n.fileList,n.fileList.findIndex(function(t){return t.key===i}),w({},n.fileList[n.fileList.findIndex(function(t){return t.key===i})],{url:n.domain+t.key,percent:100})),setTimeout(function(){n.$set(n.fileList,n.fileList.findIndex(function(t){return t.key===i}),w({},n.fileList[n.fileList.findIndex(function(t){return t.key===i})],{status:"success"})),n.$emit("input",n.fileList)},200)}})},handleRemove:function(t){this.fileList.splice(this.fileList.findIndex(function(e){return e.key===t}),1)},handlePreviewFile:function(t){var e=this;this.viewer&&this.viewer.destroy(),this.uploadId="upload_"+(new Date).getTime(),this.$nextTick(function(){e.viewer=new y.a(document.getElementById(e.uploadId)),e.viewer.view(e.fileList.findIndex(function(e){return e.key===t}))})}},watch:{}};function k(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function O(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?k(i,!0).forEach(function(e){Object(r.a)(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):k(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}i("3516");var C={props:["element","select","index","data"],components:{FmUpload:Object(s.a)(x,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fm-uplaod-container",attrs:{id:t.uploadId}},[t._l(t.fileList,function(e){return i("div",{key:e.key,staticClass:"upload-file",class:{uploading:"uploading"==e.status,"is-success":"success"==e.status},style:{width:t.width+"px",height:t.height+"px"},attrs:{id:e.key}},[i("img",{attrs:{src:e.url}}),"uploading"==e.status?i("el-progress",{staticClass:"upload-progress",attrs:{width:.9*t.miniWidth,type:"circle",percentage:e.percent}}):t._e(),"success"==e.status?i("label",{staticClass:"item-status"},[i("i",{staticClass:"el-icon-upload-success el-icon-check"})]):t._e(),i("div",{staticClass:"uplaod-action"},[i("i",{staticClass:"el-icon-view",style:{"font-size":t.miniWidth/4+"px"},on:{click:function(i){return t.handlePreviewFile(e.key)}}}),i("i",{staticClass:"el-icon-delete",style:{"font-size":t.miniWidth/4+"px"},on:{click:function(i){return t.handleRemove(e.key)}}})])],1)}),t.token?i("div",{staticClass:"el-upload el-upload--picture-card",style:{width:t.width+"px",height:t.height+"px"}},[i("i",{staticClass:"el-icon-plus",style:{fontSize:t.miniWidth/4+"px",marginTop:-t.miniWidth/8+"px",marginLeft:-t.miniWidth/8+"px"}}),i("input",{ref:"uploadInput",staticClass:"el-upload__input upload-input",style:{width:t.width+"px",height:t.height+"px"},attrs:{accept:"image/*",multiple:"",type:"file",name:"file"},on:{change:t.handleChange}})]):t._e()],2)},[],!1,null,null,null).exports},data:function(){return{selectWidget:this.select}},mounted:function(){},methods:{handleSelectWidget:function(t){this.selectWidget=this.data.list[t]},handleWidgetDelete:function(t){var e=this;this.data.list.length-1===t?this.selectWidget=0===t?{}:this.data.list[t-1]:this.selectWidget=this.data.list[t+1],this.$nextTick(function(){e.data.list.splice(t,1)})},handleWidgetClone:function(t){var e=this,i=O({},this.data.list[t],{options:O({},this.data.list[t].options),key:Date.parse(new Date)+"_"+Math.ceil(99999*Math.random())});"radio"!==this.data.list[t].type&&"checkbox"!==this.data.list[t].type||(i=O({},i,{options:O({},i.options,{options:i.options.options.map(function(t){return O({},t)})})})),this.data.list.splice(t,0,i),this.$nextTick(function(){e.selectWidget=e.data.list[t+1]})}},watch:{select:function(t){this.selectWidget=t},selectWidget:{handler:function(t){this.$emit("update:select",t)},deep:!0}}},j=Object(s.a)(C,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",["title"==t.element.type?i("div",{staticClass:"widget-view",class:{active:t.selectWidget.key==t.element.key,is_req:t.element.options.required},on:{click:function(e){return e.stopPropagation(),t.handleSelectWidget(t.index)}}},[i("h4",{staticClass:"title-style"},[t._v(t._s(t.element.name))]),i("div",{staticClass:"btn-group"},[t.selectWidget.key==t.element.key?i("el-button",{staticClass:"widget-action-delete",attrs:{title:"删除",circle:"",plain:"",type:"danger"},on:{click:function(e){return e.stopPropagation(),t.handleWidgetDelete(t.index)}}},[i("i",{staticClass:"iconfont icon-trash"})]):t._e(),t.selectWidget.key==t.element.key?i("el-button",{staticClass:"widget-action-clone",attrs:{title:"复制",circle:"",plain:"",type:"primary"},on:{click:function(e){return e.stopPropagation(),t.handleWidgetClone(t.index)}}},[i("i",{staticClass:"iconfont icon-icon_clone"})]):t._e()],1)]):i("el-form-item",{staticClass:"widget-view",class:{active:t.selectWidget.key==t.element.key,is_req:t.element.options.required},nativeOn:{click:function(e){return e.stopPropagation(),t.handleSelectWidget(t.index)}}},["label"==t.element.type?[i("div",{staticStyle:{flex:"1"}},[t._v(t._s(t.element.name))])]:t._e(),"input"==t.element.type?[i("div",[t._v(t._s(t.element.name))])]:t._e(),"textarea"==t.element.type?[i("el-input",{style:{width:t.element.options.width},attrs:{type:"textarea",rows:5,disabled:t.element.options.disabled,placeholder:t.element.options.placeholder},model:{value:t.element.options.defaultValue,callback:function(e){t.$set(t.element.options,"defaultValue",e)},expression:"element.options.defaultValue"}})]:t._e(),i("div",{staticClass:"btn-group"},[t.selectWidget.key==t.element.key?i("el-button",{staticClass:"widget-action-delete",attrs:{title:"删除",circle:"",plain:"",type:"danger"},on:{click:function(e){return e.stopPropagation(),t.handleWidgetDelete(t.index)}}},[i("i",{staticClass:"iconfont icon-trash"})]):t._e(),t.selectWidget.key==t.element.key?i("el-button",{staticClass:"widget-action-clone",attrs:{title:"复制",circle:"",plain:"",type:"primary"},on:{click:function(e){return e.stopPropagation(),t.handleWidgetClone(t.index)}}},[i("i",{staticClass:"iconfont icon-icon_clone"})]):t._e()],1)],2)],1)},[],!1,null,null,null).exports;function T(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function S(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?T(i,!0).forEach(function(e){Object(r.a)(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):T(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var A={components:{Draggable:p.a,WidgetFormItem:j},props:["data","select"],data:function(){return{selectWidget:this.select,colOption:{border:{isShow:!1,width:1,color:"#eee"}}}},created:function(){},mounted:function(){document.body.ondrop=function(t){-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&(t.preventDefault(),t.stopPropagation())}},methods:{handleMoveEnd:function(t){t.newIndex,t.oldIndex},handleSelectWidget:function(t){this.selectWidget=this.data.list[t]},handleSelectCol:function(t,e){this.selectWidget=t},handleWidgetAdd:function(t){var e=this,i=t.newIndex,n=t.item,a=Date.parse(new Date)+"_"+Math.ceil(99999*Math.random());if(this.$set(this.data.list,i,S({},this.data.list[i],{options:JSON.parse(JSON.stringify(this.data.list[i].options)),key:a,model:this.data.list[i].type+"_"+a,rules:[]})),"grid"===this.data.list[i].type&&this.$set(this.data.list,i,S({},this.data.list[i],{columns:this.data.list[i].columns.map(function(t,i){return S({},t,{key:a+i,options:JSON.parse(JSON.stringify(e.colOption))})})})),n.className.indexOf("data-grid")<0)return alert("字段只能放容器里面哦～"),this.data.list.splice(i,1),!1;this.selectWidget=this.data.list[i]},handleWidgetColAdd:function(t,e,i){var n=t.newIndex,a=t.oldIndex,s=t.item;if(0<=s.className.indexOf("data-grid"))return"DIV"===s.tagName&&e.columns[i].list.splice(a,0,e.columns[i].list[n]),e.columns[i].list.splice(n,1),!1;var o=Date.parse(new Date)+"_"+Math.ceil(99999*Math.random());this.$set(e.columns[i].list,n,S({},e.columns[i].list[n],{options:S({},e.columns[i].list[n].options),key:o,model:e.columns[i].list[n].type+"_"+o,rules:[]})),this.selectWidget=e.columns[i].list[n]},handleWidgetColDelete:function(t,e,i){e.columns.length-1===i?0===i?(this.selectWidget={},this.data.list[t]={}):this.selectWidget=e.columns[i-1]:this.selectWidget=e.columns[i+1],this.$nextTick(function(){e.columns.splice(i,1)})},handleWidgetDelete:function(t){var e=this;this.data.list.length-1===t?this.selectWidget=0===t?{}:this.data.list[t-1]:this.selectWidget=this.data.list[t+1],this.$nextTick(function(){e.data.list.splice(t,1)})}},watch:{select:function(t){this.selectWidget=t},selectWidget:{handler:function(t){this.$emit("update:select",t)},deep:!0}}},P=(i("ccfb"),Object(s.a)(A,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"widget-form-container"},[i("el-form",{attrs:{size:t.data.config.size,"label-position":t.data.config.labelPosition,"label-width":t.data.config.labelWidth+"px"}},[i("draggable",t._b({staticClass:"widget-form-container",on:{end:t.handleMoveEnd,add:t.handleWidgetAdd},model:{value:t.data.list,callback:function(e){t.$set(t.data,"list",e)},expression:"data.list"}},"draggable",{group:"people",ghostClass:"ghost"},!1),[t._l(t.data.list,function(e,n){return["grid"==e.type?[e&&e.key?i("div",{key:e.key,staticClass:"widget-grid-container data-grid",staticStyle:{position:"relative"}},[i("h4",{staticClass:"title-style"},[t._v(t._s(e.title))]),i("el-row",{staticClass:"widget-grid",class:{active:t.selectWidget.key==e.key},attrs:{type:"flex",gutter:e.options.gutter?e.options.gutter:0,justify:e.options.justify,align:e.options.align},nativeOn:{click:function(e){return t.handleSelectWidget(n)}}},t._l(e.columns,function(a,s){return a.key?i("el-col",{key:a.key,class:{active:t.selectWidget.key==a.key},staticStyle:{position:"relative"},attrs:{span:a.span?a.span:0}},[i("draggable",t._b({staticClass:"panel-style",attrs:{filter:"widget-grid-container"},on:{end:t.handleMoveEnd,add:function(i){return t.handleWidgetColAdd(i,e,s)}},nativeOn:{click:function(e){return e.stopPropagation(),t.handleSelectCol(a,s)}},model:{value:a.list,callback:function(e){t.$set(a,"list",e)},expression:"col.list"}},"draggable",{group:"people",ghostClass:"ghost"},!1),t._l(a.list,function(e,n){return e.key?i("widget-form-item",{key:e.key,attrs:{element:e,select:t.selectWidget,index:n,data:a},on:{"update:select":function(e){t.selectWidget=e}}}):t._e()}),1),t.selectWidget.key==a.key?i("el-button",{staticClass:"btn-style",attrs:{title:"删除",circle:"",plain:"",type:"danger"},on:{click:function(i){return i.stopPropagation(),t.handleWidgetColDelete(n,e,s)}}},[i("i",{staticClass:"iconfont icon-trash"})]):t._e()],1):t._e()}),1),t.selectWidget.key==e.key?i("el-button",{staticClass:"widget-action-delete btn-style",attrs:{title:"删除",circle:"",plain:"",type:"danger"},on:{click:function(e){return e.stopPropagation(),t.handleWidgetDelete(n)}}},[i("i",{staticClass:"iconfont icon-trash"})]):t._e()],1):t._e()]:t._e()]})],2)],1)],1)},[],!1,null,null,null).exports),L={props:{visible:Boolean,loadingText:{type:String,default:""},title:{type:String,default:""},width:{type:String,default:"600px"},form:{type:Boolean,default:!0},action:{type:Boolean,default:!0}},computed:{show:function(){return!this.form||this.showForm}},data:function(){return{loading:!1,dialogVisible:this.visible,id:"dialog_"+(new Date).getTime(),showForm:!1}},methods:{close:function(){this.dialogVisible=!1},submit:function(){this.loading=!0,this.$emit("on-submit")},end:function(){this.loading=!1}},mounted:function(){},watch:{dialogVisible:function(t){var e=this;t?this.showForm=!0:(this.loading=!1,this.$emit("on-close"),setTimeout(function(){e.showForm=!1},300))},visible:function(t){this.dialogVisible=t}}},$=(i("d7cd"),Object(s.a)(L,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{ref:"elDialog",staticClass:"cus-dialog-container",attrs:{title:t.title,visible:t.dialogVisible,"close-on-click-modal":!1,"append-to-body":"",center:"",width:t.width,id:t.id},on:{"update:visible":function(e){t.dialogVisible=e}}},[t.show?i("span",[t._t("default")],2):t._e(),t.action?i("span",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"dialog-footer",attrs:{slot:"footer","element-loading-text":t.loadingText},slot:"footer"},[t._t("action",[i("el-button",{on:{click:t.close}},[t._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])])],2):t._e()])},[],!1,null,null,null).exports);function E(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}var M={props:["widget","models","rules","remote"],data:function(){return{dataModel:this.models[this.widget.model]}},created:function(){},methods:{},watch:{dataModel:{deep:!0,handler:function(t){this.models[this.widget.model]=t,this.$emit("update:models",function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?E(i,!0).forEach(function(e){Object(r.a)(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):E(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}({},this.models,Object(r.a)({},this.widget.model,t)))}},models:{deep:!0,handler:function(t){this.dataModel=t[this.widget.model]}}}};function W(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}i("63f4");var F={name:"fm-generate-form",components:{GenetateFormItem:Object(s.a)(M,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"input-wrapper"},[i("div",{staticClass:"tablefield"},[t._v(t._s(t.widget.name))])])},[],!1,null,null,null).exports},props:["data","remote","value","insite"],data:function(){return{models:{},rules:{}}},created:function(){this.generateModle(this.data.list)},mounted:function(){},methods:{generateModle:function(t){for(var e=this,i=0;i<t.length;i++)"grid"===t[i].type?t[i].columns.forEach(function(t){e.generateModle(t.list)}):this.value&&0<=Object.keys(this.value).indexOf(t[i].model)?this.models[t[i].model]=this.value[t[i].model]:"blank"===t[i].type?this.models[t[i].model]="String"===t[i].options.defaultType?"":"Object"===t[i].options.defaultType?{}:[]:this.models[t[i].model]=t[i].options.defaultValue}},watch:{data:{deep:!0,handler:function(t){this.generateModle(t.list)}},value:{deep:!0,handler:function(t){this.models=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?W(i,!0).forEach(function(e){Object(r.a)(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):W(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}({},this.models,{},t)}}}},D=(i("32f9"),Object(s.a)(F,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[0<t.data.list.length?i("el-form",{ref:"generateForm",staticClass:"form-style",attrs:{size:t.data.config.size,model:t.models,rules:t.rules,"label-position":t.data.config.labelPosition,"label-width":t.data.config.labelWidth+"px"}},[t._l(t.data.list,function(e){return["grid"==e.type?[e.title?i("div",[i("h4",[t._v(t._s(e.title))])]):i("div"),e.options?i("el-row",{key:e.key,class:e.options.border.isShow?"row-style":"",style:{borderWidth:e.options.border.width?e.options.border.width+"px":"1px",borderColor:e.options.border.color},attrs:{type:"flex",gutter:e.options.gutter?e.options.gutter:0,justify:e.options.justify,align:e.options.align}},t._l(e.columns,function(e,n){return e.options?i("el-col",{key:n,style:{borderWidth:e.options.border.width?e.options.border.width+"px":"1px",borderColor:e.options.border.color},attrs:{span:e.span}},[e.options?i("div",{class:e.options.border.isShow?"col-style":"input-container"},[t._l(e.list,function(e){return["title"==e.type?i("h4",{staticClass:"tablefield"},[t._v(t._s(e.name))]):i("genetate-form-item",{key:e.key,attrs:{models:t.models,remote:t.remote,rules:t.rules,widget:e},on:{"update:models":function(e){t.models=e}}})]})],2):t._e()]):t._e()}),1):t._e()]:[i("genetate-form-item",{key:e.key,attrs:{models:t.models,rules:t.rules,widget:e,remote:t.remote},on:{"update:models":function(e){t.models=e}}})]]})],2):t._e()],1)},[],!1,null,null,null).exports),I=[{type:"title",name:"标题",icon:"icon-input",options:{width:"100%",defaultValue:"",required:!1,dataType:"string",pattern:"",placeholder:""}}],V=[{type:"panel",name:"面板",icon:"icon-input",options:{width:"100%",defaultValue:"",required:!1,dataType:"string",pattern:"",placeholder:""}}],N=[{type:"grid",name:"一整行(24)",title:" ",icon:"icon-grid-",columns:[{span:24,list:[]}],options:{border:{isShow:!0,width:1,color:"#eee"},gutter:10,justify:"start",align:"top"}},{type:"grid",name:"一行2列(12:12)",title:" ",icon:"icon-grid-",columns:[{span:12,list:[]},{span:12,list:[]}],options:{border:{isShow:!0,width:1,color:"#eee"},gutter:10,justify:"start",align:"top"}},{type:"grid",name:"一行3列(8:8:8)",title:" ",icon:"icon-grid-",columns:[{span:8,list:[]},{span:8,list:[]},{span:8,list:[]}],options:{border:{isShow:!0,width:1,color:"#eee"},gutter:10,justify:"start",align:"top"}},{name:"一行4列(6:6:6:6)",type:"grid",title:" ",icon:"icon-grid-",columns:[{span:6,list:[]},{span:6,list:[]},{span:6,list:[]},{span:6,list:[]}],options:{border:{isShow:!0,width:1,color:"#eee"},gutter:10,justify:"start",align:"top"}}],z=(i("386d"),{SITE:"../webApi"}),U={getForm:z.SITE+"/FormFieldGet.aspx",saveForm:z.SITE+"/FormFieldSave.aspx",queryString:function(t,e){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+t+"=([^&#]*)","i"),n=i.exec(location.search),a=null;return null===n?!!(i=new RegExp("[\\?&]"+t+"(\\&([^&#]*)|$)","i")).test(location.search)||void 0:(a=n[1].replace(/\+/g," "),e?a:decodeURIComponent(a))}};function R(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}var G={name:"fm-making-form",components:{Draggable:p.a,WidgetConfig:f,FormConfig:m,WidgetForm:P,CusDialog:$,GenerateForm:D},data:function(){return{basicComponents:I,layoutComponents:N,panel:V,widgetForm:{list:[],config:{labelWidth:100,labelPosition:"top",size:"small"}},configTab:"widget",widgetFormSelect:{},previewVisible:!1,codeVisible:!1,widgetModels:{},htmlTemplate:"",labelList:[],param:{MyType:null,MyForm:null},isSaveLoading:!1}},created:function(){this.param.MyType=U.queryString("MyType"),this.param.MyForm=U.queryString("MyForm"),this.param.MyType&&this.param.MyForm&&(U.getForm=U.getForm+"?MyType=".concat(this.param.MyType,"&&MyForm=").concat(this.param.MyForm),this.getLayout())},mounted:function(){},methods:{getLayout:function(){var t=this;d.a.post(U.getForm).then(function(e){200==e.status&&"true"==e.data.result&&(e.data.data=JSON.parse(decodeURI(e.data.data)),t.widgetForm=e.data.data,e.data.detail=e.data.detail.split("|"),e.data.detail.map(function(e){t.labelList.push({type:"label",name:e,icon:"icon-input",options:{width:"100%",defaultValue:"aaa"}})}))}).catch(function(t){})},saveLayout:function(){var t=this;this.htmlTemplate=B(this.$refs.generateForm.$el.innerHTML),this.isSaveLoading=!0,d.a.post(U.saveForm,function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?R(i,!0).forEach(function(e){Object(r.a)(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):R(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}({},this.param,{PageContent:encodeURI(this.htmlTemplate).replace(/\/\%/g,"-"),PageJson:encodeURI(JSON.stringify(this.widgetForm)).replace(/\/\%/g,"-")})).then(function(e){t.isSaveLoading=!1,(e.data.return_msg="success")?t.$message({message:"保存成功",type:"success"}):t.$message({message:"保存失败",type:"success"})}).catch(function(t){})},resetLayout:function(){this.widgetForm={list:[],config:{labelWidth:100,labelPosition:"top",size:"small"}},this.widgetFormSelect=null},handleConfigSelect:function(t){this.configTab=t},handleMoveEnd:function(t){},handleMoveStart:function(t){t.oldIndex},handleMove:function(){return!0},handlePreview:function(){this.previewVisible=!this.previewVisible},handleTest:function(){this.$alert("提交了～～"),this.$refs.widgetPreview.end()},handleGenerateCode:function(){this.codeVisible=!0,0<this.widgetForm.list.length?this.htmlTemplate=B(this.$refs.generateForm.$el.innerHTML):this.htmlTemplate="",this.$nextTick(function(){var t=ace.edit("codeeditor");t.session.setMode("ace/mode/html"),t.setOption("wrap","free")})}},watch:{widgetForm:{deep:!0,handler:function(t){}}}},B=function(t){var e=["__dataHolder_",[Math.random(),Math.random(),Math.random(),Math.random()].join("_").replace(/[^0-9]/g,"_"),"_"].join("_"),i={},n=0;return(t=function(t,e,i){var n;for((n=new function(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.Utils={whitespace:"\n\r\t ".split(""),single_token:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed".split(","),extra_liners:"head,body,/html".split(","),in_array:function(t,e){for(var i=0;i<e.length;i++)if(t===e[i])return!0;return!1}},this.get_content=function(){for(var t="",e=[],i=!1;"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return e.length?e.join(""):["","TK_EOF"];if(t=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(t,this.Utils.whitespace))e.length&&(i=!0),this.line_char_count--;else{if(i){if(this.line_char_count>=this.max_char){e.push("\n");for(var n=0;n<this.indent_level;n++)e.push(this.indent_string);this.line_char_count=0}else e.push(" "),this.line_char_count++;i=!1}e.push(t)}}return e.length?e.join(""):""},this.get_script=function(){var t="",e=[],i=new RegExp("<\/script>","igm");i.lastIndex=this.pos;for(var n=i.exec(this.input),a=n?n.index:this.input.length;this.pos<a;){if(this.pos>=this.input.length)return e.length?e.join(""):["","TK_EOF"];t=this.input.charAt(this.pos),this.pos++,e.push(t)}return e.length?e.join(""):""},this.record_tag=function(t){this.tags[t+"count"]?this.tags[t+"count"]++:this.tags[t+"count"]=1,this.tags[t+this.tags[t+"count"]]=this.indent_level,this.tags[t+this.tags[t+"count"]+"parent"]=this.tags.parent,this.tags.parent=t+this.tags[t+"count"]},this.retrieve_tag=function(t){if(this.tags[t+"count"]){for(var e=this.tags.parent;e&&t+this.tags[t+"count"]!==e;)e=this.tags[e+"parent"];e&&(this.indent_level=this.tags[t+this.tags[t+"count"]],this.tags.parent=this.tags[e+"parent"]),delete this.tags[t+this.tags[t+"count"]+"parent"],delete this.tags[t+this.tags[t+"count"]],1==this.tags[t+"count"]?delete this.tags[t+"count"]:this.tags[t+"count"]--}},this.get_tag=function(){var t="",e=[],i=!1;do{if(this.pos>=this.input.length)return e.length?e.join(""):["","TK_EOF"];t=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(t,this.Utils.whitespace)?(i=!0,this.line_char_count--):("'"!==t&&'"'!==t||e[1]&&"!"===e[1]||(t+=this.get_unformatted(t),i=!0),"="===t&&(i=!1),e.length&&"="!==e[e.length-1]&&">"!==t&&i&&(this.line_char_count>=this.max_char?(this.print_newline(!1,e),this.line_char_count=0):(e.push(" "),this.line_char_count++),i=!1),e.push(t))}while(">"!==t);var n,a=e.join("");n=-1!=a.indexOf(" ")?a.indexOf(" "):a.indexOf(">");var s=a.substring(1,n).toLowerCase();if("/"===a.charAt(a.length-2)||this.Utils.in_array(s,this.Utils.single_token))this.tag_type="SINGLE";else if("script"===s)this.record_tag(s),this.tag_type="SCRIPT";else if("style"===s)this.record_tag(s),this.tag_type="STYLE";else if("!"===s.charAt(0))if(-1!=s.indexOf("[if")){if(-1!=a.indexOf("!IE")){var o=this.get_unformatted("--\x3e",a);e.push(o)}this.tag_type="START"}else-1!=s.indexOf("[endif")?(this.tag_type="END",this.unindent()):(o=-1!=s.indexOf("[cdata[")?this.get_unformatted("]]>",a):this.get_unformatted("--\x3e",a),e.push(o),this.tag_type="SINGLE");else"/"===s.charAt(0)?(this.retrieve_tag(s.substring(1)),this.tag_type="END"):(this.record_tag(s),this.tag_type="START"),this.Utils.in_array(s,this.Utils.extra_liners)&&this.print_newline(!0,this.output);return e.join("")},this.get_unformatted=function(t,e){if(e&&-1!=e.indexOf(t))return"";var i="",n="",a=!0;do{if(i=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(i,this.Utils.whitespace)){if(!a){this.line_char_count--;continue}if("\n"===i||"\r"===i){n+="\n";for(var s=0;s<this.indent_level;s++)n+=this.indent_string;a=!1,this.line_char_count=0;continue}}n+=i,this.line_char_count++,a=!0}while(-1==n.indexOf(t));return n},this.get_token=function(){var t;if("TK_TAG_SCRIPT"!==this.last_token)return"CONTENT"===this.current_mode?"string"!=typeof(t=this.get_content())?t:[t,"TK_CONTENT"]:"TAG"===this.current_mode?"string"!=typeof(t=this.get_tag())?t:[t,"TK_TAG_"+this.tag_type]:void 0;var e=this.get_script();return"string"!=typeof e?e:[e,"TK_CONTENT"]},this.printer=function(t,e,i,n){this.input=t||"",this.output=[],this.indent_character=e||" ",this.indent_string="",this.indent_size=i||2,this.indent_level=0,this.max_char=n||70;for(var a=this.line_char_count=0;a<this.indent_size;a++)this.indent_string+=this.indent_character;this.print_newline=function(t,e){if(this.line_char_count=0,e&&e.length){if(!t)for(;this.Utils.in_array(e[e.length-1],this.Utils.whitespace);)e.pop();e.push("\n");for(var i=0;i<this.indent_level;i++)e.push(this.indent_string)}},this.print_token=function(t){this.output.push(t)},this.indent=function(){this.indent_level++},this.unindent=function(){0<this.indent_level&&this.indent_level--}},this}).printer(t,i,e);;){var a=n.get_token();if(n.token_text=a[0],n.token_type=a[1],"TK_EOF"===n.token_type)break;switch(n.token_type){case"TK_TAG_START":case"TK_TAG_SCRIPT":case"TK_TAG_STYLE":n.print_newline(!1,n.output),n.print_token(n.token_text),n.indent(),n.current_mode="CONTENT";break;case"TK_TAG_END":n.print_newline(!0,n.output),n.print_token(n.token_text),n.current_mode="CONTENT";break;case"TK_TAG_SINGLE":n.print_newline(!1,n.output),n.print_token(n.token_text),n.current_mode="CONTENT";break;case"TK_CONTENT":""!==n.token_text&&(n.print_newline(!1,n.output),n.print_token(n.token_text)),n.current_mode="TAG"}n.last_token=n.token_type,n.last_text=n.token_text}return n.output.join("")}(t=t.replace(/(\")(data:[^\"]*)(\")/g,function(t,a,s,o){var l=e+n++;return i[l]=s,a+l+o}),1,"\t")).replace(new RegExp(e+"[0-9]+","g"),function(t){return i[t]})},K=G,q=(i("314e"),Object(s.a)(K,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",{staticClass:"fm2-container"},[i("el-main",{staticClass:"fm2-main"},[i("el-container",[i("el-aside",{staticStyle:{wdith:"250px"}},[i("div",{staticClass:"components-list"},[i("div",{staticClass:"widget-cate"},[t._v("布局设置")]),i("draggable",t._b({attrs:{tag:"ul",list:t.layoutComponents,move:t.handleMove},on:{start:t.handleMoveStart,end:t.handleMoveEnd}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),t._l(t.layoutComponents,function(e,n){return i("li",{key:n,staticClass:"form-edit-widget-label data-grid"},[i("a",[i("i",{staticClass:"icon iconfont",class:e.icon}),i("span",[t._v(t._s(e.name))])])])}),0),i("div",{staticClass:"widget-cate"},[t._v("基础字段")]),i("draggable",t._b({attrs:{tag:"ul",list:t.basicComponents,move:t.handleMove},on:{start:t.handleMoveStart,end:t.handleMoveEnd}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),t._l(t.basicComponents,function(e,n){return i("li",{key:n,staticClass:"form-edit-widget-label"},[i("a",[i("i",{staticClass:"icon iconfont",class:e.icon}),i("span",[t._v(t._s(e.name))])])])}),0),i("div",{staticClass:"widget-cate"},[t._v("数据库表字段")]),i("draggable",t._b({attrs:{tag:"ul",list:t.labelList,move:t.handleMove},on:{start:t.handleMoveStart,end:t.handleMoveEnd}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),t._l(t.labelList,function(e,n){return i("li",{key:n,staticClass:"form-edit-widget-label"},[i("a",[i("i",{staticClass:"icon iconfont",class:e.icon}),i("span",[t._v(t._s(e.name))])])])}),0)],1)]),i("el-container",{staticClass:"center-container",attrs:{direction:"vertical"}},[i("el-header",{staticClass:"btn-bar",staticStyle:{height:"45px"}},[t._t("action"),i("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-document"},on:{click:t.resetLayout}},[t._v("清空布局")]),i("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-view"},on:{click:t.handlePreview}},[t._v(t._s(t.previewVisible?"取消预览":"预览"))]),i("el-button",{attrs:{loading:t.isSaveLoading,type:"text",size:"medium",icon:"el-icon-document"},on:{click:t.saveLayout}},[t._v("保存布局")]),i("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-document"},on:{click:t.handleGenerateCode}},[t._v("生成代码")])],2),i("el-main",{class:{"widget-empty":0==t.widgetForm.list.length}},[t.previewVisible?t._e():i("widget-form",{ref:"widgetForm",staticStyle:{"z-index":"20",background:"#fff"},attrs:{data:t.widgetForm,select:t.widgetFormSelect},on:{"update:select":function(e){t.widgetFormSelect=e}}}),i("generate-form",{ref:"generateForm",staticStyle:{"z-index":"10"},attrs:{insite:"true",data:t.widgetForm,value:t.widgetModels}})],1)],1),i("el-aside",{staticClass:"widget-config-container"},[i("el-container",[i("el-header",{attrs:{height:"45px"}},[i("div",{staticClass:"config-tab",class:{active:"widget"==t.configTab},on:{click:function(e){return t.handleConfigSelect("widget")}}},[t._v("字段属性")])]),i("el-main",{staticClass:"config-content"},[i("widget-config",{directives:[{name:"show",rawName:"v-show",value:"widget"==t.configTab,expression:"configTab=='widget'"}],attrs:{data:t.widgetFormSelect}}),i("form-config",{directives:[{name:"show",rawName:"v-show",value:"form"==t.configTab,expression:"configTab=='form'"}],attrs:{data:t.widgetForm.config}})],1)],1)],1),i("cus-dialog",{ref:"codePreview",attrs:{visible:t.codeVisible,width:"800px",form:"",action:!1},on:{"on-close":function(e){t.codeVisible=!1}}},[i("div",{staticStyle:{height:"500px",width:"100%"},attrs:{id:"codeeditor"}},[t._v(t._s(t.htmlTemplate))])])],1)],1)],1)},[],!1,null,null,null).exports);n.default.use(l.a);var J=new l.a({routes:[{path:"/",component:q}]}),H=i("5c96"),Q=i.n(H);function Z(t,e){X.forEach(function(e){t.component(e.name,e)})}i("0fae"),i("7f7f"),i("f5df"),i("0f59"),i("eb0d"),i("b20f"),q.install=function(t){t.component(q.name,q)},D.install=function(t){t.component(D.name,D)};var X=[q,D];"undefined"!=typeof window&&window.Vue&&Z(window.Vue);var Y={install:Z,MakingForm:q,GenerateForm:D};n.default.use(Y),n.default.config.productionTip=!1,n.default.use(Q.a,{size:"small"}),new n.default({router:J,render:function(t){return t(o)}}).$mount("#app")},"5c0b":function(t,e,i){"use strict";var n=i("e332");i.n(n).a},"5cd6":function(t,e,i){},"63f4":function(t,e,i){"use strict";var n=i("b62f");i.n(n).a},7501:function(t,e,i){},7987:function(t,e,i){},b20f:function(t,e,i){},b62f:function(t,e,i){},ca11:function(t,e,i){},ccfb:function(t,e,i){"use strict";var n=i("4e16");i.n(n).a},cf05:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABvUlEQVRoQ+2Zu0oEMRSGv6PiBbSwFBtfxFofQPAJBAvBUhYsRS3sBAtBSwsfRqxVLLQWFa+IOvJDVpZlx8FMMkuWBMLCzCaTL+c/l8wYJa0oihawXXa/4estM9vt9UyrAFgAZoGXhhfc/bgjM9v3AVgERoFp4L2PELUAxoBJ4A4o+gRxamYHvhZoA8gKl6kDTAFnfYAIZoFh4A14bBgiiA9IQgJ4AD5db4ojKMA98OSi0nxDBN55QGG004llgU6AL2CuAUlFs8A3oGQ4A7xGtEZUgCFgHNDvcySIQzM7CZEHuiUkC2jhE8CKmZ1HAiidtqoWqvKBDFDXYgNvgWVXjUrjKiMELEdVxPkA2hJSqN0DruruaMn4azO7+a8T6wCx6hY9AqirKQsr/mvxqk4FJUe+iBiFvGqhDBBQTl4W2ALWnTwkEeUAyUUSknzU1XRN/dZVqgHX/TvVsc+RMnkA+cBGjO30mNOrGk0eIHkJ7QBrKTtxzgMezlo2xCsPbAJLKddCermbzwMBZdRzqoE/D2QJZQlV7ED2gfxeqKaTZAllCWUJleyA+1KfM3FNhVQOz1EoR6FKkfz9h+Ql9AMULqdAUwjXZgAAAABJRU5ErkJggg=="},d7cd:function(t,e,i){"use strict";var n=i("5cd6");i.n(n).a},e332:function(t,e,i){},eb0d:function(t,e,i){}});